<html>
  <head>
    <title>wtf_wikipedia</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <style>
      body{
        padding:5
      }
      h4{
        color:grey;
      }
      #title{
        font-size:25px;
        color:steelblue;
        margin-left:100px;
      }
      #result{
        color:silver;
        padding:15px;
        margin:10px;
        border:1px solid lightgrey;
        border-radius:10px
      }
    </style>
  </head>
  <body>
    <h4>wtf_wikipedia.from_api() demo</h4>
    supports cross-origin fetches from the client-side, and following of redirects.
    <div>
      <input id="title" value="On a Friday"/>
      <input type="button" value="fetch" onClick="fetch()"/>
    </div>
    <pre id="result">
    </pre>
    <!-- <script src="https://code.jquery.com/jquery-latest.js"></script> -->
    <script type="text/javascript" src="../builds/wtf_wikipedia.js"></script>
    <script>
    function fetch() {
  document.getElementById('result').innerText = '...';
  var title = document.getElementById('title').value;
  wtf.from_api(title, function(str) {
    var r = wtf.parse(str);
    document.getElementById('result').innerText = JSON.stringify(r, null, 2);
  });
}
//go!
fetch();

//or in jquery:
// $(window).ready(function(){
//   var url="https://en.wikipedia.org/w/api.php?action=query&prop=revisions&rvlimit=1&rvprop=content&format=json&origin=*&titles=Radiohead"
//   $.get(url, function(data){
//     var str=data.query.pages['38252'].revisions[0]['*']
//     console.log(wtf_wikipedia.parse(str))
//   })
// })
</script>
  </body>
<html>
