!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).wtfPerson=t()}(this,(function(){"use strict";var e={actor:!0,adult_biography:!0,afl_biography:!0,alpine_ski_racer:!0,archbishop:!0,architect:!0,artist:!0,athlete:!0,baseball_biography:!0,basketball_biography:!0,boxer:!0,canadianmp:!0,cfl_player:!0,chef:!0,chess_player:!0,christian_leader:!0,college_coach:!0,college_football_player:!0,comedian:!0,comics_creator:!0,cricketer:!0,criminal:!0,cyclist:!0,economist:!0,engineer:!0,fashion_designer:!0,field_hockey_player:!0,figure_skater:!0,football_biography:!0,gaa_player:!0,golfer:!0,governor:!0,gridiron_football_person:!0,gymnast:!0,handball_biography:!0,hindu_leader:!0,horseracing_personality:!0,ice_hockey_player:!0,indian_politician:!0,judge:!0,lacrosse_player:!0,martial_artist:!0,mass_murderer:!0,medical_person:!0,military_person:!0,minister:!0,mlb_player:!0,model:!0,monarch:!0,mp:!0,nascar_driver:!0,nba_biography:!0,nfl_biography:!0,nfl_player:!0,officeholder:!0,person:!0,philosopher:!0,police_officer:!0,politician:!0,"politician_(general)":!0,presenter:!0,president:!0,professional_wrestler:!0,racing_driver:!0,religious_biography:!0,roman_emperor:!0,royalty:!0,rugby_biography:!0,rugby_league_biography:!0,saint:!0,scholar:!0,scientist:!0,skier:!0,sportsperson:!0,squash_player:!0,state_representative:!0,state_senator:!0,swimmer:!0,tennis_biography:!0,volleyball_biography:!0,volleyball_player:!0,wrc_driver:!0,writer:!0,"hockey team player":!0,"snooker player":!0,bishop:!0,"football biography":!0,"military person":!0,"baseball biography":!0,"ice hockey player":!0,"nfl player":!0,"christian leader":!0,congressman:!0,"basketball biography":!0,"comics creator":!0,"professional wrestler":!0,"college coach":!0,"tennis biography":!0,"afl biography":!0,"nfl biography":!0,"rugby biography":!0,"rugby league biography":!0,"prime minister":!0,"nba biography":!0,"figure skater":!0,"f1 driver":!0,"gridiron football person":!0,"indian politician":!0,"racing driver":!0,"martial artist":!0,"chinese-language singer and actor":!0,astronaut:!0,senator:!0,"nascar driver":!0,"adult biography":!0,"state representative":!0,"state senator":!0,"coa wide":!0,"religious biography":!0,"chess player":!0,"pageant titleholder":!0,"gaa player":!0,"us cabinet official":!0};const t=function(t,n){let r=t.infoboxes();for(let t=0;t<r.length;t++){let a=r[t],o=a.type();if(o=o.toLowerCase(),o=o.trim(),e.hasOwnProperty(o)){let e=a.get(n);if(e)return e.text()}}return null},n=(e,t,n)=>{const[r,a]=e.split("/"),[o,i]=a.split(":");return Date.UTC(n,r-1,o,i)-36e5*t};var r=(e,t,r,a,o)=>{const i=new Date(e).getUTCFullYear(),s=n(t,o,i),l=n(r,a,i);return e>=s&&e<l};var a=e=>{let t=e.timezones[e.tz];if(void 0===t)return console.warn("Warning: couldn't find timezone "+e.tz),0;if(void 0===t.dst)return t.offset;let n=t.offset,a=t.offset+1;"n"===t.hem&&(a=n-1);let o=t.dst.split("->");return!0===r(e.epoch,o[0],o[1],n,a)?n:a},o={"9|s":"2/dili,2/jayapura","9|n":"2/chita,2/khandyga,2/pyongyang,2/seoul,2/tokyo,11/palau,japan,rok","9.5|s|04/03:03->10/02:02":"4/adelaide,4/broken_hill,4/south,4/yancowinna","9.5|s":"4/darwin,4/north","8|s|03/08:01->10/04:00":"12/casey","8|s":"2/kuala_lumpur,2/makassar,2/singapore,4/perth,2/ujung_pandang,4/west,singapore","8|n":"2/brunei,2/choibalsan,2/hong_kong,2/irkutsk,2/kuching,2/macau,2/manila,2/shanghai,2/taipei,2/ulaanbaatar,2/chongqing,2/chungking,2/harbin,2/macao,2/ulan_bator,hongkong,prc,roc","8.75|s":"4/eucla","7|s":"12/davis,2/jakarta,9/christmas","7|n":"2/bangkok,2/barnaul,2/hovd,2/krasnoyarsk,2/novokuznetsk,2/novosibirsk,2/phnom_penh,2/pontianak,2/ho_chi_minh,2/tomsk,2/vientiane,2/saigon","6|s":"12/vostok","6|n":"2/almaty,2/bishkek,2/dhaka,2/omsk,2/qyzylorda,2/qostanay,2/thimphu,2/urumqi,9/chagos,2/dacca,2/kashgar,2/thimbu","6.5|n":"2/yangon,9/cocos,2/rangoon","5|s":"12/mawson,9/kerguelen","5|n":"2/aqtau,2/aqtobe,2/ashgabat,2/atyrau,2/dushanbe,2/karachi,2/oral,2/samarkand,2/tashkent,2/yekaterinburg,9/maldives,2/ashkhabad","5.75|n":"2/katmandu,2/kathmandu","5.5|n":"2/kolkata,2/colombo,2/calcutta","4|s":"9/reunion","4|n":"2/baku,2/dubai,2/muscat,2/tbilisi,2/yerevan,8/astrakhan,8/samara,8/saratov,8/ulyanovsk,8/volgograd,2/volgograd,9/mahe,9/mauritius","4.5|n|03/22:00->09/21:24":"2/tehran,iran","4.5|n":"2/kabul","3|s":"12/syowa,9/antananarivo","3|n|03/27:03->10/30:04":"2/famagusta,2/nicosia,8/athens,8/bucharest,8/helsinki,8/kiev,8/mariehamn,8/riga,8/sofia,8/tallinn,8/uzhgorod,8/vilnius,8/zaporozhye,8/nicosia","3|n|03/27:02->10/30:03":"8/chisinau,8/tiraspol","3|n|03/27:00->10/29:24":"2/beirut","3|n|03/26:00->10/28:01":"2/gaza,2/hebron","3|n|03/25:02->10/30:02":"2/jerusalem,2/tel_aviv,israel","3|n|03/25:00->10/27:24":"2/damascus","3|n|02/25:00->10/28:01":"2/amman","3|n":"0/addis_ababa,0/asmara,0/asmera,0/dar_es_salaam,0/djibouti,0/juba,0/kampala,0/mogadishu,0/nairobi,2/aden,2/baghdad,2/bahrain,2/kuwait,2/qatar,2/riyadh,8/istanbul,8/kirov,8/minsk,8/moscow,8/simferopol,9/comoro,9/mayotte,2/istanbul,turkey,w-su","2|s|03/27:02->10/30:02":"12/troll","2|s":"0/gaborone,0/harare,0/johannesburg,0/lubumbashi,0/lusaka,0/maputo,0/maseru,0/mbabane","2|n|03/27:02->10/30:03":"0/ceuta,arctic/longyearbyen,8/amsterdam,8/andorra,8/belgrade,8/berlin,8/bratislava,8/brussels,8/budapest,8/busingen,8/copenhagen,8/gibraltar,8/ljubljana,8/luxembourg,8/madrid,8/malta,8/monaco,8/oslo,8/paris,8/podgorica,8/prague,8/rome,8/san_marino,8/sarajevo,8/skopje,8/stockholm,8/tirane,8/vaduz,8/vatican,8/vienna,8/warsaw,8/zagreb,8/zurich,3/jan_mayen,poland","2|n":"0/blantyre,0/bujumbura,0/cairo,0/khartoum,0/kigali,0/tripoli,8/kaliningrad,egypt,libya","1|s":"0/brazzaville,0/kinshasa,0/luanda,0/windhoek","1|n|03/27:03->05/08:02":"0/casablanca,0/el_aaiun","1|n|03/27:01->10/30:02":"3/canary,3/faroe,3/madeira,8/dublin,8/guernsey,8/isle_of_man,8/jersey,8/lisbon,8/london,3/faeroe,eire,8/belfast,gb-eire,gb,portugal","1|n":"0/algiers,0/bangui,0/douala,0/lagos,0/libreville,0/malabo,0/ndjamena,0/niamey,0/porto-novo,0/tunis","14|n":"11/kiritimati","13|s|04/04:04->09/26:03":"11/apia","13|s|01/15:02->11/05:03":"11/tongatapu","13|n":"11/enderbury,11/fakaofo","12|s|04/03:03->09/25:02":"12/mcmurdo,11/auckland,12/south_pole,nz","12|s|01/17:03->11/14:02":"11/fiji","12|n":"2/anadyr,2/kamchatka,2/srednekolymsk,11/funafuti,11/kwajalein,11/majuro,11/nauru,11/tarawa,11/wake,11/wallis,kwajalein","12.75|s|04/03:03->04/03:02":"11/chatham,nz-chat","11|s|04/03:03->10/02:02":"12/macquarie","11|s":"11/bougainville","11|n":"2/magadan,2/sakhalin,11/efate,11/guadalcanal,11/kosrae,11/noumea,11/pohnpei,11/ponape","11.5|n|04/03:03->10/02:02":"11/norfolk","10|s|04/03:03->10/02:02":"4/currie,4/hobart,4/melbourne,4/sydney,4/act,4/canberra,4/nsw,4/tasmania,4/victoria","10|s":"12/dumontdurville,4/brisbane,4/lindeman,11/port_moresby,4/queensland","10|n":"2/ust-nera,2/vladivostok,2/yakutsk,11/guam,11/saipan,11/chuuk,11/truk,11/yap","10.5|s|04/03:01->10/02:02":"4/lord_howe,4/lhi","0|n|03/27:00->10/30:01":"1/scoresbysund,3/azores","0|n":"0/abidjan,0/accra,0/bamako,0/banjul,0/bissau,0/conakry,0/dakar,0/freetown,0/lome,0/monrovia,0/nouakchott,0/ouagadougou,0/sao_tome,1/danmarkshavn,3/reykjavik,3/st_helena,13/gmt,13/utc,0/timbuktu,13/greenwich,13/uct,13/universal,13/zulu,gmt-0,gmt+0,gmt0,greenwich,iceland,uct,universal,utc,zulu","-9|n|03/13:02->11/06:02":"1/adak,1/atka,us/aleutian","-9|n":"11/gambier","-9.5|n":"11/marquesas","-8|n|03/13:02->11/06:02":"1/anchorage,1/juneau,1/metlakatla,1/nome,1/sitka,1/yakutat,us/alaska","-8|n":"11/pitcairn","-7|n|03/13:02->11/06:02":"1/los_angeles,1/santa_isabel,1/tijuana,1/vancouver,1/ensenada,6/pacific,10/bajanorte,us/pacific-new,us/pacific","-7|n|03/08:02->11/01:01":"1/dawson,1/whitehorse,6/yukon","-7|n":"1/creston,1/dawson_creek,1/fort_nelson,1/hermosillo,1/phoenix,us/arizona","-6|s|04/02:22->09/03:22":"11/easter,7/easterisland","-6|n|04/03:02->10/30:02":"1/chihuahua,1/mazatlan,10/bajasur","-6|n|03/13:02->11/06:02":"1/boise,1/cambridge_bay,1/denver,1/edmonton,1/inuvik,1/ojinaga,1/yellowknife,1/shiprock,6/mountain,navajo,us/mountain","-6|n":"1/belize,1/costa_rica,1/el_salvador,1/guatemala,1/managua,1/regina,1/swift_current,1/tegucigalpa,11/galapagos,6/east-saskatchewan,6/saskatchewan","-5|s":"1/lima,1/rio_branco,1/porto_acre,5/acre","-5|n|04/03:02->10/30:02":"1/bahia_banderas,1/merida,1/mexico_city,1/monterrey,10/general","-5|n|03/13:02->11/06:02":"1/chicago,1/matamoros,1/menominee,1/rainy_river,1/rankin_inlet,1/resolute,1/winnipeg,1/indiana/knox,1/indiana/tell_city,1/north_dakota/beulah,1/north_dakota/center,1/north_dakota/new_salem,1/knox_in,6/central,us/central,us/indiana-starke","-5|n|03/12:03->11/05:01":"1/north_dakota","-5|n":"1/bogota,1/cancun,1/cayman,1/coral_harbour,1/eirunepe,1/guayaquil,1/jamaica,1/panama,1/atikokan,jamaica","-4|s|05/13:23->08/13:01":"12/palmer","-4|s|04/02:24->09/04:00":"1/santiago,7/continental","-4|s|03/26:24->10/02:00":"1/asuncion","-4|s|02/16:24->11/03:00":"1/campo_grande,1/cuiaba","-4|s":"1/la_paz,1/manaus,5/west","-4|n|03/13:02->11/06:02":"1/detroit,1/grand_turk,1/indianapolis,1/iqaluit,1/louisville,1/montreal,1/nassau,1/new_york,1/nipigon,1/pangnirtung,1/port-au-prince,1/thunder_bay,1/toronto,1/indiana/marengo,1/indiana/petersburg,1/indiana/vevay,1/indiana/vincennes,1/indiana/winamac,1/kentucky/monticello,1/fort_wayne,1/indiana/indianapolis,1/kentucky/louisville,6/eastern,us/east-indiana,us/eastern,us/michigan","-4|n|03/13:00->11/06:01":"1/havana,cuba","-4|n|03/12:03->11/05:01":"1/indiana,1/kentucky","-4|n":"1/anguilla,1/antigua,1/aruba,1/barbados,1/blanc-sablon,1/boa_vista,1/caracas,1/curacao,1/dominica,1/grenada,1/guadeloupe,1/guyana,1/kralendijk,1/lower_princes,1/marigot,1/martinique,1/montserrat,1/port_of_spain,1/porto_velho,1/puerto_rico,1/santo_domingo,1/st_barthelemy,1/st_kitts,1/st_lucia,1/st_thomas,1/st_vincent,1/tortola,1/virgin","-3|s":"1/argentina,1/buenos_aires,1/catamarca,1/cordoba,1/fortaleza,1/jujuy,1/mendoza,1/montevideo,1/punta_arenas,1/sao_paulo,12/rothera,3/stanley,1/argentina/la_rioja,1/argentina/rio_gallegos,1/argentina/salta,1/argentina/san_juan,1/argentina/san_luis,1/argentina/tucuman,1/argentina/ushuaia,1/argentina/comodrivadavia,1/argentina/buenos_aires,1/argentina/catamarca,1/argentina/cordoba,1/argentina/jujuy,1/argentina/mendoza,1/argentina/rosario,1/rosario,5/east","-3|n|03/13:02->11/06:02":"1/glace_bay,1/goose_bay,1/halifax,1/moncton,1/thule,3/bermuda,6/atlantic","-3|n":"1/araguaina,1/bahia,1/belem,1/cayenne,1/maceio,1/paramaribo,1/recife,1/santarem","-2|n|03/26:22->10/29:23":"1/nuuk,1/godthab","-2|n|03/13:02->11/06:02":"1/miquelon","-2|n":"1/noronha,3/south_georgia,5/denoronha","-2.5|n|03/13:02->11/06:02":"1/st_johns,6/newfoundland","-1|n":"3/cape_verde","-11|n":"11/midway,11/niue,11/pago_pago,11/samoa,us/samoa","-10|n":"11/honolulu,11/johnston,11/rarotonga,11/tahiti,us/hawaii"},i=["africa","america","asia","atlantic","australia","brazil","canada","chile","europe","indian","mexico","pacific","antarctica","etc"];let s={};Object.keys(o).forEach((e=>{let t=e.split("|"),n={offset:Number(t[0]),hem:t[1]};t[2]&&(n.dst=t[2]),o[e].split(",").forEach((e=>{e=e.replace(/(^[0-9]+)\//,((e,t)=>(t=Number(t),i[t]+"/"))),s[e]=n}))})),s.utc={offset:0,hem:"n"};for(let e=-14;e<=14;e+=.5){let t=e;t>0&&(t="+"+t);let n="etc/gmt"+t;s[n]={offset:-1*e,hem:"n"},n="utc/gmt"+t,s[n]={offset:-1*e,hem:"n"}}var l=s;const u=/(\-?[0-9]+)h(rs)?/i,c=/(\-?[0-9]+)/,h=/utc([\-+]?[0-9]+)/i,d=/gmt([\-+]?[0-9]+)/i,m=function(e){return(e=Number(e))>=-13&&e<=13?"etc/gmt"+(e=((e*=-1)>0?"+":"")+e):null};var p=function(e){let t=e.match(u);if(null!==t)return m(t[1]);if(t=e.match(h),null!==t)return m(t[1]);if(t=e.match(d),null!==t){let e=-1*Number(t[1]);return m(e)}return t=e.match(c),null!==t?m(t[1]):null};const f=(()=>{let e=(()=>{if("undefined"==typeof Intl||void 0===Intl.DateTimeFormat)return null;let e=Intl.DateTimeFormat();if(void 0===e||void 0===e.resolvedOptions)return null;let t=e.resolvedOptions().timeZone;return t?t.toLowerCase():null})();return null===e?"utc":e})(),y=Object.keys(l).reduce(((e,t)=>{let n=t.split("/")[1]||"";return n=n.replace(/_/g," "),e[n]=t,e}),{});var g=(e,t)=>{if(!e)return f;"string"!=typeof e&&console.error("Timezone must be a string - recieved: '",e,"'\n");let n=e.trim();if(n=n.toLowerCase(),!0===t.hasOwnProperty(n))return n;if(n=(e=>(e=(e=(e=(e=(e=e.replace(/ time/g,"")).replace(/ (standard|daylight|summer)/g,"")).replace(/\b(east|west|north|south)ern/g,"$1")).replace(/\b(africa|america|australia)n/g,"$1")).replace(/\beuropean/g,"europe")).replace(/\islands/g,"island"))(n),!0===t.hasOwnProperty(n))return n;if(!0===y.hasOwnProperty(n))return y[n];if(!0===/[0-9]/.test(n)){let e=p(n);if(e)return e}throw new Error("Spacetime: Cannot find timezone named: '"+e+"'. Please enter an IANA timezone id.")};function b(e){return e%4==0&&e%100!=0||e%400==0}function w(e){return"[object Date]"===Object.prototype.toString.call(e)&&!isNaN(e.valueOf())}function k(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e,t=2){return(e+="").length>=t?e:new Array(t-e.length+1).join("0")+e}function _(e){let t=e%10,n=e%100;return 1===t&&11!==n?e+"st":2===t&&12!==n?e+"nd":3===t&&13!==n?e+"rd":e+"th"}function j(e){return e=(e=String(e)).replace(/([0-9])(st|nd|rd|th)$/i,"$1"),parseInt(e,10)}function z(e=""){return"day"===(e=(e=(e=(e=e.toLowerCase().trim()).replace(/ies$/,"y")).replace(/s$/,"")).replace(/-/g,""))||"days"===e?"date":"min"===e||"mins"===e?"minute":e}function $(e){return"number"==typeof e?e:w(e)?e.getTime():e.epoch?e.epoch:null}function O(e,t){return!1===k(e)?t.clone().set(e):e}function D(e,t=""){const n=e>0?"+":"-",r=Math.abs(e);return`${n}${v(parseInt(""+r,10))}${t}${v(r%1*60)}`}const M={year:(new Date).getFullYear(),month:0,date:1};var N={parseArray:(e,t,n)=>{if(0===t.length)return e;let r=["year","month","date","hour","minute","second","millisecond"];for(let a=0;a<r.length;a++){let o=t[a]||n[r[a]]||M[r[a]]||0;e=e[r[a]](o)}return e},parseObject:(e,t,n)=>{if(0===Object.keys(t).length)return e;t=Object.assign({},M,n,t);let r=Object.keys(t);for(let a=0;a<r.length;a++){let o=r[a];if(void 0===e[o]||"function"!=typeof e[o])continue;if(null===t[o]||void 0===t[o]||""===t[o])continue;let i=t[o]||n[o]||M[o]||0;e=e[o](i)}return e},parseNumber:function(e,t){return t>0&&t<25e8&&!1===e.silent&&(console.warn("  - Warning: You are setting the date to January 1970."),console.warn("       -   did input seconds instead of milliseconds?")),e.epoch=t,e}};const S=function(e){return e.epoch=Date.now(),Object.keys(e._today||{}).forEach((t=>{"function"==typeof e[t]&&(e=e[t](e._today[t]))})),e},q={now:e=>S(e),today:e=>S(e),tonight:e=>e=(e=S(e)).hour(18),tomorrow:e=>e=(e=(e=S(e)).add(1,"day")).startOf("day"),yesterday:e=>e=(e=(e=S(e)).subtract(1,"day")).startOf("day"),christmas:e=>{let t=S(e).year();return e=e.set([t,11,25,18,0,0])},"new years":e=>{let t=S(e).year();return e=e.set([t,11,31,18,0,0])}};q["new years eve"]=q["new years"];var I=q;var P=function(e){return e=(e=(e=(e=e.replace(/\b(mon|tues?|wed|wednes|thur?s?|fri|sat|satur|sun)(day)?\b/i,"")).replace(/([0-9])(th|rd|st|nd)/,"$1")).replace(/,/g,"")).replace(/ +/g," ").trim()};let E={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5};E.date=E.day,E.month=25488e5,E.week=6048e5,E.year=3154e7,Object.keys(E).forEach((e=>{E[e+"s"]=E[e]}));var T=E;const C=(e,t,n,r,a)=>{let o=e.d[n]();if(o===t)return;let i=null===a?null:e.d[a](),s=e.epoch,l=t-o;e.epoch+=T[r]*l,"day"===r&&Math.abs(l)>28&&t<28&&(e.epoch+=T.hour),null!==a&&i!==e.d[a]()&&(e.epoch=s);const u=T[r]/2;for(;e.d[n]()<t;)e.epoch+=u;for(;e.d[n]()>t;)e.epoch-=u;null!==a&&i!==e.d[a]()&&(e.epoch=s)},x={year:{valid:e=>e>-4e3&&e<4e3,walkTo:(e,t)=>C(e,t,"getFullYear","year",null)},month:{valid:e=>e>=0&&e<=11,walkTo:(e,t)=>{let n=e.d,r=n.getMonth(),a=e.epoch,o=n.getFullYear();if(r===t)return;let i=t-r;for(e.epoch+=T.day*(28*i),o!==e.d.getFullYear()&&(e.epoch=a);e.d.getMonth()<t;)e.epoch+=T.day;for(;e.d.getMonth()>t;)e.epoch-=T.day}},date:{valid:e=>e>0&&e<=31,walkTo:(e,t)=>C(e,t,"getDate","day","getMonth")},hour:{valid:e=>e>=0&&e<24,walkTo:(e,t)=>C(e,t,"getHours","hour","getDate")},minute:{valid:e=>e>=0&&e<60,walkTo:(e,t)=>C(e,t,"getMinutes","minute","getHours")},second:{valid:e=>e>=0&&e<60,walkTo:(e,t)=>{e.epoch=e.seconds(t).epoch}},millisecond:{valid:e=>e>=0&&e<1e3,walkTo:(e,t)=>{e.epoch=e.milliseconds(t).epoch}}};var Y=(e,t)=>{let n=Object.keys(x),r=e.clone();for(let a=0;a<n.length;a++){let o=n[a],i=t[o];if(void 0===i&&(i=r[o]()),"string"==typeof i&&(i=parseInt(i,10)),!x[o].valid(i))return e.epoch=null,void(!1===e.silent&&console.warn("invalid "+o+": "+i));x[o].walkTo(e,i)}};var A=[31,28,31,30,31,30,31,31,30,31,30,31];let F=["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],L=["january","february","march","april","may","june","july","august","september","october","november","december"];function B(){return F}function H(){return function(){const e={sep:8};for(let t=0;t<F.length;t++)e[F[t]]=t;for(let t=0;t<L.length;t++)e[L[t]]=t;return e}()}var Z=(e,t)=>{if(!t)return e;let n=0;if(/^[\+-]?[0-9]{2}:[0-9]{2}$/.test(t)&&(!0===/:00/.test(t)&&(t=t.replace(/:00/,"")),!0===/:30/.test(t)&&(t=t.replace(/:30/,".5"))),/^[\+-]?[0-9]{4}$/.test(t)&&(t=t.replace(/30$/,".5")),n=parseFloat(t),Math.abs(n)>100&&(n/=100),0===n||"Z"===t||"z"===t)return e.tz="etc/gmt",e;n*=-1,n>=0&&(n="+"+n);let r="etc/gmt"+n;return e.timezones[r]&&(e.tz=r),e};var Q=(e,t="")=>{let n=(t=t.replace(/^\s+/,"").toLowerCase()).match(/([0-9]{1,2}):([0-9]{1,2}):?([0-9]{1,2})?[:\.]?([0-9]{1,4})?/);if(null!==n){let r=Number(n[1]);if(r<0||r>24)return e.startOf("day");let a=Number(n[2]);if(n[2].length<2||a<0||a>59)return e.startOf("day");e=(e=(e=(e=e.hour(r)).minute(a)).seconds(n[3]||0)).millisecond(function(e=""){return(e=String(e)).length>3?e=e.substr(0,3):1===e.length?e+="00":2===e.length&&(e+="0"),Number(e)||0}(n[4]));let o=t.match(/[\b0-9] ?(am|pm)\b/);return null!==o&&o[1]&&(e=e.ampm(o[1])),e}if(n=t.match(/([0-9]+) ?(am|pm)/),null!==n&&n[1]){let t=Number(n[1]);return t>12||t<1?e.startOf("day"):e=(e=(e=e.hour(n[1]||0)).ampm(n[2])).startOf("hour")}return e=e.startOf("day")};let G=H();const U=e=>{if(!0!==A.hasOwnProperty(e.month))return!1;if(1===e.month)return!!(b(e.year)&&e.date<=29)||e.date<=28;let t=A[e.month]||0;return e.date<=t},V=(e="",t)=>{if(e=e.trim(),!0===/^'[0-9][0-9]$/.test(e)){let t=Number(e.replace(/'/,""));return t>50?1900+t:2e3+t}let n=parseInt(e,10);return!n&&t&&(n=t.year),n=n||(new Date).getFullYear(),n},W=function(e){return"sept"===(e=e.toLowerCase().trim())?G.sep:G[e]};var J=[].concat([{reg:/^(\-?0?0?[0-9]{3,4})-([0-9]{1,2})-([0-9]{1,2})[T| ]([0-9.:]+)(Z|[0-9\-\+:]+)?$/i,parse:(e,t)=>{let n={year:t[1],month:parseInt(t[2],10)-1,date:t[3]};return!1===U(n)?(e.epoch=null,e):(Z(e,t[5]),Y(e,n),e=Q(e,t[4]))}},{reg:/^([0-9]{4})[\-\/\. ]([0-9]{1,2})[\-\/\. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let n={year:t[1],month:parseInt(t[2],10)-1,date:parseInt(t[3],10)};return n.month>=12&&(n.date=parseInt(t[2],10),n.month=parseInt(t[3],10)-1),!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}},{reg:/^([0-9]{4})[\-\/\. ]([a-z]+)[\-\/\. ]([0-9]{1,2})( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let n={year:V(t[1],e._today),month:W(t[2]),date:j(t[3]||"")};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}}],[{reg:/^([0-9]{1,2})[\-\/.]([0-9]{1,2})[\-\/.]?([0-9]{4})?( [0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:(e,t)=>{let n=parseInt(t[1],10)-1,r=parseInt(t[2],10);(e.british||n>=12)&&(r=parseInt(t[1],10),n=parseInt(t[2],10)-1);let a={date:r,month:n,year:V(t[3],e._today)||(new Date).getFullYear()};return!1===U(a)?(e.epoch=null,e):(Y(e,a),e=Q(e,t[4]))}},{reg:/^([a-z]+)[\-\/\. ]([0-9]{1,2})[\-\/\. ]?([0-9]{4}|'[0-9]{2})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let n={year:V(t[3],e._today),month:W(t[1]),date:j(t[2]||"")};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9]{4})?( ([0-9:]+( ?am| ?pm| ?gmt)?))?$/i,parse:(e,t)=>{let n={year:V(t[3],e._today),month:W(t[1]),date:j(t[2]||"")};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}},{reg:/^([a-z]+) ([0-9]{1,2})( [0-9:]+)?( \+[0-9]{4})?( [0-9]{4})?$/i,parse:(e,t)=>{let n={year:V(t[5],e._today),month:W(t[1]),date:j(t[2]||"")};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[3]))}}],[{reg:/^([0-9]{1,2})[\-\/]([a-z]+)[\-\/]?([0-9]{4})?$/i,parse:(e,t)=>{let n={year:V(t[3],e._today),month:W(t[2]),date:j(t[1]||"")};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}},{reg:/^([0-9]{1,2})( [a-z]+)( [0-9]{4}| '[0-9]{2})? ?([0-9]{1,2}:[0-9]{2}:?[0-9]{0,2}? ?(am|pm|gmt))?$/i,parse:(e,t)=>{let n={year:V(t[3],e._today),month:W(t[2]),date:j(t[1])};return n.month&&!1!==U(n)?(Y(e,n),e=Q(e,t[4])):(e.epoch=null,e)}},{reg:/^([0-9]{1,2})[\. -/]([a-z]+)[\. -/]([0-9]{4})?( [0-9]{1,2}(:[0-9]{0,2})?(:[0-9]{0,3})? ?(am|pm)?)?$/i,parse:(e,t)=>{let n={date:Number(t[1]),month:W(t[2]),year:Number(t[3])};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=e.startOf("day"),e=Q(e,t[4]))}}],[{reg:/^([0-9]{4})[\-\/]([0-9]{2})$/i,parse:(e,t)=>{let n={year:t[1],month:parseInt(t[2],10)-1,date:1};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}},{reg:/^([a-z]+) ([0-9]{4})$/i,parse:(e,t)=>{let n={year:V(t[2],e._today),month:W(t[1]),date:e._today.date||1};return!1===U(n)?(e.epoch=null,e):(Y(e,n),e=Q(e,t[4]))}},{reg:/^(q[0-9])( of)?( [0-9]{4})?/i,parse:(e,t)=>{let n=t[1]||"";e=e.quarter(n);let r=t[3]||"";return r&&(r=r.trim(),e=e.year(r)),e}},{reg:/^(spring|summer|winter|fall|autumn)( of)?( [0-9]{4})?/i,parse:(e,t)=>{let n=t[1]||"";e=e.season(n);let r=t[3]||"";return r&&(r=r.trim(),e=e.year(r)),e}},{reg:/^[0-9,]+ ?b\.?c\.?$/i,parse:(e,t)=>{let n=t[0]||"";n=n.replace(/^([0-9,]+) ?b\.?c\.?$/i,"-$1");let r=new Date,a={year:parseInt(n.trim(),10),month:r.getMonth(),date:r.getDate()};return!1===U(a)?(e.epoch=null,e):(Y(e,a),e=Q(e))}},{reg:/^[0-9,]+ ?(a\.?d\.?|c\.?e\.?)$/i,parse:(e,t)=>{let n=t[0]||"";n=n.replace(/,/g,"");let r=new Date,a={year:parseInt(n.trim(),10),month:r.getMonth(),date:r.getDate()};return!1===U(a)?(e.epoch=null,e):(Y(e,a),e=Q(e))}},{reg:/^[0-9]{4}( ?a\.?d\.?)?$/i,parse:(e,t)=>{let n=e._today;n.month&&!n.date&&(n.date=1);let r=new Date,a={year:V(t[0],n),month:n.month||r.getMonth(),date:n.date||r.getDate()};return!1===U(a)?(e.epoch=null,e):(Y(e,a),e=Q(e))}}]);var K=function(e,t,n){for(let r=0;r<J.length;r++){let a=t.match(J[r].reg);if(a){let t=J[r].parse(e,a,n);if(null!==t&&t.isValid())return t}}return!1===e.silent&&console.warn("Warning: couldn't parse date-string: '"+t+"'"),e.epoch=null,e};const{parseArray:R,parseObject:X,parseNumber:ee}=N,te={year:(new Date).getFullYear(),month:0,date:1};var ne=(e,t)=>{let n=e._today||te;if("number"==typeof t)return ee(e,t);if(e.epoch=Date.now(),e._today&&k(e._today)&&Object.keys(e._today).length>0){let t=X(e,n,te);t.isValid()&&(e.epoch=t.epoch)}return null==t||""===t?e:!0===w(t)?(e.epoch=t.getTime(),e):!0===function(e){return"[object Array]"===Object.prototype.toString.call(e)}(t)?e=R(e,t,n):!0===k(t)?t.epoch?(e.epoch=t.epoch,e.tz=t.tz,e):e=X(e,t,n):"string"!=typeof t?e:(t=P(t),!0===I.hasOwnProperty(t)?e=I[t](e):K(e,t))};let re=["sun","mon","tue","wed","thu","fri","sat"],ae=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"];function oe(){return re}function ie(){return ae}const se={mo:1,tu:2,we:3,th:4,fr:5,sa:6,su:7,tues:2,weds:3,wedn:3,thur:4,thurs:4};let le=!0;var ue=e=>{let t=e.timezone().current.offset;return t?D(t,":"):"Z"};const ce=e=>le?function(e){return e?e[0].toUpperCase()+e.substr(1):""}(e):e,he={day:e=>ce(e.dayName()),"day-short":e=>ce(oe()[e.day()]),"day-number":e=>e.day(),"day-ordinal":e=>_(e.day()),"day-pad":e=>v(e.day()),date:e=>e.date(),"date-ordinal":e=>_(e.date()),"date-pad":e=>v(e.date()),month:e=>ce(e.monthName()),"month-short":e=>ce(B()[e.month()]),"month-number":e=>e.month(),"month-ordinal":e=>_(e.month()),"month-pad":e=>v(e.month()),"iso-month":e=>v(e.month()+1),year:e=>{let t=e.year();return t>0?t:(t=Math.abs(t),t+" BC")},"year-short":e=>{let t=e.year();return t>0?"'"+String(e.year()).substr(2,4):(t=Math.abs(t),t+" BC")},"iso-year":e=>{let t=e.year(),n=t<0,r=v(Math.abs(t),4);return n&&(r=v(r,6),r="-"+r),r},time:e=>e.time(),"time-24":e=>`${e.hour24()}:${v(e.minute())}`,hour:e=>e.hour12(),"hour-pad":e=>v(e.hour12()),"hour-24":e=>e.hour24(),"hour-24-pad":e=>v(e.hour24()),minute:e=>e.minute(),"minute-pad":e=>v(e.minute()),second:e=>e.second(),"second-pad":e=>v(e.second()),millisecond:e=>e.millisecond(),"millisecond-pad":e=>v(e.millisecond(),3),ampm:e=>e.ampm(),quarter:e=>"Q"+e.quarter(),season:e=>e.season(),era:e=>e.era(),json:e=>e.json(),timezone:e=>e.timezone().name,offset:e=>ue(e),numeric:e=>`${e.year()}/${v(e.month()+1)}/${v(e.date())}`,"numeric-us":e=>`${v(e.month()+1)}/${v(e.date())}/${e.year()}`,"numeric-uk":e=>`${v(e.date())}/${v(e.month()+1)}/${e.year()}`,"mm/dd":e=>`${v(e.month()+1)}/${v(e.date())}`,iso:e=>`${e.format("iso-year")}-${v(e.month()+1)}-${v(e.date())}T${v(e.h24())}:${v(e.minute())}:${v(e.second())}.${v(e.millisecond(),3)}${ue(e)}`,"iso-short":e=>{let t=v(e.month()+1),n=v(e.date());var r;return`${(r=e.year())>=0?v(r,4):"-"+v(r=Math.abs(r),4)}-${t}-${n}`},"iso-utc":e=>new Date(e.epoch).toISOString(),nice:e=>`${B()[e.month()]} ${_(e.date())}, ${e.time()}`,"nice-24":e=>`${B()[e.month()]} ${_(e.date())}, ${e.hour24()}:${v(e.minute())}`,"nice-year":e=>`${B()[e.month()]} ${_(e.date())}, ${e.year()}`,"nice-day":e=>`${oe()[e.day()]} ${ce(B()[e.month()])} ${_(e.date())}`,"nice-full":e=>`${e.dayName()} ${ce(e.monthName())} ${_(e.date())}, ${e.time()}`,"nice-full-24":e=>`${e.dayName()} ${ce(e.monthName())} ${_(e.date())}, ${e.hour24()}:${v(e.minute())}`},de={"day-name":"day","month-name":"month","iso 8601":"iso","time-h24":"time-24","time-12":"time","time-h12":"time",tz:"timezone","day-num":"day-number","month-num":"month-number","month-iso":"iso-month","year-iso":"iso-year","nice-short":"nice","nice-short-24":"nice-24",mdy:"numeric-us",dmy:"numeric-uk",ymd:"numeric","yyyy/mm/dd":"numeric","mm/dd/yyyy":"numeric-us","dd/mm/yyyy":"numeric-us","little-endian":"numeric-uk","big-endian":"numeric","day-nice":"nice-day"};Object.keys(de).forEach((e=>he[e]=he[de[e]]));var me=(e,t="")=>{if(!0!==e.isValid())return"";if(he.hasOwnProperty(t)){let n=he[t](e)||"";return"json"!==t&&(n=String(n),"ampm"!==t&&(n=ce(n))),n}if(-1!==t.indexOf("{")){let n=/\{(.+?)\}/g;return t=t.replace(n,((t,n)=>{if(n=n.toLowerCase().trim(),he.hasOwnProperty(n)){let t=String(he[n](e));return"ampm"!==n?ce(t):t}return""}))}return e.format("iso-short")};const pe={G:e=>e.era(),GG:e=>e.era(),GGG:e=>e.era(),GGGG:e=>"AD"===e.era()?"Anno Domini":"Before Christ",y:e=>e.year(),yy:e=>v(Number(String(e.year()).substr(2,4))),yyy:e=>e.year(),yyyy:e=>e.year(),yyyyy:e=>"0"+e.year(),Q:e=>e.quarter(),QQ:e=>e.quarter(),QQQ:e=>e.quarter(),QQQQ:e=>e.quarter(),M:e=>e.month()+1,MM:e=>v(e.month()+1),MMM:e=>e.format("month-short"),MMMM:e=>e.format("month"),w:e=>e.week(),ww:e=>v(e.week()),d:e=>e.date(),dd:e=>v(e.date()),D:e=>e.dayOfYear(),DD:e=>v(e.dayOfYear()),DDD:e=>v(e.dayOfYear(),3),E:e=>e.format("day-short"),EE:e=>e.format("day-short"),EEE:e=>e.format("day-short"),EEEE:e=>e.format("day"),EEEEE:e=>e.format("day")[0],e:e=>e.day(),ee:e=>e.day(),eee:e=>e.format("day-short"),eeee:e=>e.format("day"),eeeee:e=>e.format("day")[0],a:e=>e.ampm().toUpperCase(),aa:e=>e.ampm().toUpperCase(),aaa:e=>e.ampm().toUpperCase(),aaaa:e=>e.ampm().toUpperCase(),h:e=>e.h12(),hh:e=>v(e.h12()),H:e=>e.hour(),HH:e=>v(e.hour()),m:e=>e.minute(),mm:e=>v(e.minute()),s:e=>e.second(),ss:e=>v(e.second()),SSS:e=>v(e.millisecond(),3),A:e=>e.epoch-e.startOf("day").epoch,z:e=>e.timezone().name,zz:e=>e.timezone().name,zzz:e=>e.timezone().name,zzzz:e=>e.timezone().name,Z:e=>D(e.timezone().current.offset),ZZ:e=>D(e.timezone().current.offset),ZZZ:e=>D(e.timezone().current.offset),ZZZZ:e=>D(e.timezone().current.offset,":")},fe=(e,t,n)=>{let r=e,a=t;for(let o=0;o<n;o+=1)pe[r]=pe[a],r+=e,a+=t};fe("q","Q",4),fe("L","M",4),fe("Y","y",4),fe("c","e",4),fe("k","H",2),fe("K","h",2),fe("S","s",2),fe("v","z",4),fe("V","Z",4);var ye=(e,t)=>{let n=t.split("");return n=function(e){for(let t=0;t<e.length;t+=1)if("'"===e[t])for(let n=t+1;n<e.length;n+=1){if(e[n]&&(e[t]+=e[n]),"'"===e[n]){e[n]=null;break}e[n]=null}return e.filter((e=>e))}(n),n=function(e){for(let t=0;t<e.length;t+=1){let n=e[t];for(let r=t+1;r<e.length&&e[r]===n;r+=1)e[t]+=e[r],e[r]=null}return(e=e.filter((e=>e))).map((e=>("''"===e&&(e="'"),e)))}(n),n.reduce(((t,n)=>(void 0!==pe[n]?t+=pe[n](e)||"":(/^'.{1,}'$/.test(n)&&(n=n.replace(/'/g,"")),t+=n),t)),"")};const ge=["year","season","quarter","month","week","day","quarterHour","hour","minute"],be=function(e,t){let n=e.clone().startOf(t),r=e.clone().endOf(t).epoch-n.epoch,a=(e.epoch-n.epoch)/r;return parseFloat(a.toFixed(2))};var we=(e,t)=>{if(t)return t=z(t),be(e,t);let n={};return ge.forEach((t=>{n[t]=be(e,t)})),n};var ke=(e,t)=>{let n=e.progress();return"quarterhour"===(t=z(t))&&(t="quarterHour"),void 0!==n[t]?(n[t]>.5&&(e=e.add(1,t)),e=e.startOf(t)):!1===e.silent&&console.warn("no known unit '"+t+"'"),e};const ve=(e,t,n)=>{let r=0;for(e=e.clone();e.isBefore(t);)e=e.add(1,n),r+=1;return e.isAfter(t,n)&&(r-=1),r};var _e=(e,t,n)=>e.isBefore(t)?ve(e,t,n):-1*ve(t,e,n);var je=function(e,t){let n=t.epoch-e.epoch,r={milliseconds:n,seconds:parseInt(n/1e3,10)};r.minutes=parseInt(r.seconds/60,10),r.hours=parseInt(r.minutes/60,10);let a=e.clone();return r.years=((e,t)=>{let n=t.year()-e.year();return(e=e.year(t.year())).isAfter(t)&&(n-=1),n})(a,t),a=e.add(r.years,"year"),r.months=12*r.years,a=e.add(r.months,"month"),r.months+=_e(a,t,"month"),r.weeks=52*r.years,a=e.add(r.weeks,"week"),r.weeks+=_e(a,t,"week"),r.days=7*r.weeks,a=e.add(r.days,"day"),r.days+=_e(a,t,"day"),r};var ze=function(e,t,n){t=O(t,e);let r=!1;if(e.isAfter(t)){let n=e;e=t,t=n,r=!0}let a=je(e,t);return r&&(a=function(e){return Object.keys(e).forEach((t=>{e[t]*=-1})),e}(a)),n?(n=z(n),!0!==/s$/.test(n)&&(n+="s"),"dates"===n&&(n="days"),a[n]):a};const $e=e=>Math.abs(e)||0;var Oe=function(e){let t="P";return t+=$e(e.years)+"Y",t+=$e(e.months)+"M",t+=$e(e.days)+"DT",t+=$e(e.hours)+"H",t+=$e(e.minutes)+"M",t+=$e(e.seconds)+"S",t};const De={months:{almost:10,over:4},days:{almost:25,over:10},hours:{almost:20,over:8},minutes:{almost:50,over:20},seconds:{almost:50,over:20}};function Me(e,t){return 1===e&&(t=t.slice(0,-1)),e+" "+t}var Ne=function(e){let t=null,n=null,r=[],a=[];return Object.keys(e).forEach(((o,i,s)=>{const l=Math.abs(e[o]);if(0===l)return;r.push(l+o[0]);const u=Me(l,o);if(a.push(u),!t){if(t=n=u,i>4)return;const r=s[i+1],a=Math.abs(e[r]);a>De[r].almost?(t=Me(l+1,o),n="almost "+t):a>De[r].over&&(n="over "+u)}})),{qualified:n,rounded:t,abbreviated:r,englishValues:a}};var Se=(e,t)=>{const n=function(e,t){const n=e.isBefore(t),r=n?t:e;let a=n?e:t;a=a.clone();const o={years:0,months:0,days:0,hours:0,minutes:0,seconds:0};return Object.keys(o).forEach((e=>{if(a.isSame(r,e))return;let t=a.diff(r,e);a=a.add(t,e),o[e]=t})),n&&Object.keys(o).forEach((e=>{0!==o[e]&&(o[e]*=-1)})),o}(e,t=O(t,e));if(!0===Object.keys(n).every((e=>!n[e])))return{diff:n,rounded:"now",qualified:"now",precise:"now",abbreviated:[],iso:"P0Y0M0DT0H0M0S",direction:"present"};let r,a="future",{rounded:o,qualified:i,englishValues:s,abbreviated:l}=Ne(n);r=s.splice(0,2).join(", "),!0===e.isAfter(t)?(o+=" ago",i+=" ago",r+=" ago",a="past"):(o="in "+o,i="in "+i,r="in "+r);let u=Oe(n);return{diff:n,rounded:o,qualified:i,precise:r,abbreviated:l,iso:u,direction:a}};var qe={north:[["spring",2,1],["summer",5,1],["fall",8,1],["autumn",8,1],["winter",11,1]],south:[["fall",2,1],["autumn",2,1],["winter",5,1],["spring",8,1],["summer",11,1]]},Ie=[null,[0,1],[3,1],[6,1],[9,1]];const Pe={minute:e=>(Y(e,{second:0,millisecond:0}),e),quarterhour:e=>{let t=e.minutes();return e=t>=45?e.minutes(45):t>=30?e.minutes(30):t>=15?e.minutes(15):e.minutes(0),Y(e,{second:0,millisecond:0}),e},hour:e=>(Y(e,{minute:0,second:0,millisecond:0}),e),day:e=>(Y(e,{hour:0,minute:0,second:0,millisecond:0}),e),week:e=>{let t=e.clone();return(e=e.day(e._weekStart)).isAfter(t)&&(e=e.subtract(1,"week")),Y(e,{hour:0,minute:0,second:0,millisecond:0}),e},month:e=>(Y(e,{date:1,hour:0,minute:0,second:0,millisecond:0}),e),quarter:e=>{let t=e.quarter();return Ie[t]&&Y(e,{month:Ie[t][0],date:Ie[t][1],hour:0,minute:0,second:0,millisecond:0}),e},season:e=>{let t=e.season(),n="north";"South"===e.hemisphere()&&(n="south");for(let r=0;r<qe[n].length;r++)if(qe[n][r][0]===t){let a=e.year();return"winter"===t&&e.month()<3&&(a-=1),Y(e,{year:a,month:qe[n][r][1],date:qe[n][r][2],hour:0,minute:0,second:0,millisecond:0}),e}return e},year:e=>(Y(e,{month:0,date:1,hour:0,minute:0,second:0,millisecond:0}),e),decade:e=>{let t=(e=e.startOf("year")).year(),n=10*parseInt(t/10,10);return e=e.year(n)},century:e=>{let t=(e=e.startOf("year")).year(),n=100*parseInt(t/100,10);return e=e.year(n)}};Pe.date=Pe.day;var Ee=function(e,t,n){if(!t||!n)return[];if(t=z(t),n=e.clone().set(n),e.isAfter(n)){let t=e;e=n,n=t}let r=e.clone();if(function(e){return!!oe().find((t=>t===e))||!!ie().find((t=>t===e))}(t))r=r.next(t),t="week";else{r.startOf(t).isBefore(e)&&(r=r.next(t))}let a=[];for(;r.isBefore(n);)a.push(r),r=r.add(1,t);return a};var Te=e=>{let t=e.timezones,n=e.tz;if(!1===t.hasOwnProperty(n)&&(n=g(e.tz,t)),null===n)return!1===e.silent&&console.warn("Warn: could not find given or local timezone - '"+e.tz+"'"),{current:{epochShift:0}};let a=t[n],o={name:(i=n,i=(i=(i=i[0].toUpperCase()+i.substr(1)).replace(/\/gmt/,"/GMT")).replace(/[\/_]([a-z])/gi,(e=>e.toUpperCase()))),hasDst:Boolean(a.dst),default_offset:a.offset,hemisphere:"s"===a.hem?"South":"North",current:{}};var i,s;if(o.hasDst){let e=(s=a.dst)?s.split("->"):[];o.change={start:e[0],back:e[1]}}let l=a.offset,u=l;return!0===o.hasDst&&(u="North"===o.hemisphere?l-1:a.offset+1),!1===o.hasDst?(o.current.offset=l,o.current.isDST=!1):!0===r(e.epoch,o.change.start,o.change.back,l,u)?(o.current.offset=l,o.current.isDST="North"===o.hemisphere):(o.current.offset=u,o.current.isDST="South"===o.hemisphere),o};const Ce=["century","decade","year","month","date","day","hour","minute","second","millisecond"],xe={set:function(e,t){let n=this.clone();return n=ne(n,e,null),t&&(this.tz=g(t)),n},timezone:function(){return Te(this)},isDST:function(){return Te(this).current.isDST},hasDST:function(){return Te(this).hasDst},offset:function(){return 60*Te(this).current.offset},hemisphere:function(){return Te(this).hemisphere},format:function(e){return me(this,e)},unixFmt:function(e){return ye(this,e)},startOf:function(e){return((e,t)=>{let n=e.clone();return t=z(t),Pe[t]?Pe[t](n):"summer"===t||"winter"===t?(n=n.season(t),Pe.season(n)):n})(this,e)},endOf:function(e){return((e,t)=>{let n=e.clone();return t=z(t),Pe[t]?(n=Pe[t](n),n=n.add(1,t),n=n.subtract(1,"millisecond"),n):n})(this,e)},leapYear:function(){return b(this.year())},progress:function(e){return we(this,e)},nearest:function(e){return ke(this,e)},diff:function(e,t){return ze(this,e,t)},since:function(e){return e||(e=this.clone().set()),Se(this,e)},next:function(e){return this.add(1,e).startOf(e)},last:function(e){return this.subtract(1,e).startOf(e)},isValid:function(){return!(!this.epoch&&0!==this.epoch)&&!isNaN(this.d.getTime())},goto:function(e){let t=this.clone();return t.tz=g(e,t.timezones),t},every:function(e,t){if("object"==typeof e&&"string"==typeof t){let n=t;t=e,e=n}return Ee(this,e,t)},isAwake:function(){let e=this.hour();return!(e<8||e>22)},isAsleep:function(){return!this.isAwake()},daysInMonth:function(){switch(this.month()){case 0:return 31;case 1:return this.leapYear()?29:28;case 2:return 31;case 3:return 30;case 4:return 31;case 5:return 30;case 6:case 7:return 31;case 8:return 30;case 9:return 31;case 10:return 30;case 11:return 31;default:throw new Error("Invalid Month state.")}},log:function(){return console.log(""),console.log(me(this,"nice-short")),this},logYear:function(){return console.log(""),console.log(me(this,"full-short")),this},json:function(){return Ce.reduce(((e,t)=>(e[t]=this[t](),e)),{})},debug:function(){let e=this.timezone(),t=this.format("MM")+" "+this.format("date-ordinal")+" "+this.year();return t+="\n     - "+this.format("time"),console.log("\n\n",t+"\n     - "+e.name+" ("+e.current.offset+")"),this},from:function(e){return(e=this.clone().set(e)).since(this)},fromNow:function(){return this.clone().set(Date.now()).since(this)},weekStart:function(e){if("number"==typeof e)return this._weekStart=e,this;if("string"==typeof e){e=e.toLowerCase().trim();let t=oe().indexOf(e);-1===t&&(t=ie().indexOf(e)),-1===t&&(t=1),this._weekStart=t}else console.warn("Spacetime Error: Cannot understand .weekStart() input:",e);return this}};xe.inDST=xe.isDST,xe.round=xe.nearest,xe.each=xe.every;var Ye=xe;const Ae=e=>("string"==typeof e&&(e=parseInt(e,10)),e),Fe=["year","month","date","hour","minute","second","millisecond"],Le=(e,t,n)=>{let r=Fe.indexOf(n),a=Fe.slice(r,Fe.length);for(let n=0;n<a.length;n++){let r=t[a[n]]();e[a[n]](r)}return e},Be=function(e,t,n,r){return!0===n&&e.isBefore(t)?e=e.add(1,r):!1===n&&e.isAfter(t)&&(e=e.minus(1,r)),e},He=function(e,t,n){t=Ae(t);let r=e.clone(),a=(e.minute()-t)*T.minute;return e.epoch-=a,Le(e,r,"second"),(e=Be(e,r,n,"hour")).epoch},Ze=function(e,t,n){(t=Ae(t))>=24?t=24:t<0&&(t=0);let r=e.clone(),a=e.hour()-t,o=a*T.hour;return e.epoch-=o,e.date()!==r.date()&&(e=r.clone(),a>1&&(a-=1),a<1&&(a+=1),o=a*T.hour,e.epoch-=o),Y(e,{hour:t}),Le(e,r,"minute"),(e=Be(e,r,n,"day")).epoch},Qe=function(e,t){return"string"==typeof t&&/^'[0-9]{2}$/.test(t)&&(t=t.replace(/'/,"").trim(),t=(t=Number(t))>30?1900+t:2e3+t),t=Ae(t),Y(e,{year:t}),e.epoch};let Ge="am",Ue="pm";var Ve={millisecond:function(e){if(void 0!==e){let t=this.clone();return t.epoch=function(e,t){t=Ae(t);let n=e.millisecond()-t;return e.epoch-n}(t,e),t}return this.d.getMilliseconds()},second:function(e,t){if(void 0!==e){let n=this.clone();return n.epoch=function(e,t,n){t=Ae(t);let r=e.clone(),a=(e.second()-t)*T.second;return e.epoch=e.epoch-a,(e=Be(e,r,n,"minute")).epoch}(n,e,t),n}return this.d.getSeconds()},minute:function(e,t){if(void 0!==e){let n=this.clone();return n.epoch=He(n,e,t),n}return this.d.getMinutes()},hour:function(e,t){let n=this.d;if(void 0!==e){let n=this.clone();return n.epoch=Ze(n,e,t),n}return n.getHours()},hourFloat:function(e,t){if(void 0!==e){let n=this.clone(),r=e%1;r*=60;let a=parseInt(e,10);return n.epoch=Ze(n,a,t),n.epoch=He(n,r,t),n}let n=this.d,r=n.getHours(),a=n.getMinutes();return a/=60,r+a},hour12:function(e,t){let n=this.d;if(void 0!==e){let n=this.clone(),r=(e=""+e).match(/^([0-9]+)(am|pm)$/);if(r){let e=parseInt(r[1],10);"pm"===r[2]&&(e+=12),n.epoch=Ze(n,e,t)}return n}let r=n.getHours();return r>12&&(r-=12),0===r&&(r=12),r},time:function(e,t){if(void 0!==e){let n=this.clone();return e=e.toLowerCase().trim(),n.epoch=function(e,t,n){let r=t.match(/([0-9]{1,2})[:h]([0-9]{1,2})(:[0-9]{1,2})? ?(am|pm)?/);if(!r){if(r=t.match(/([0-9]{1,2}) ?(am|pm)/),!r)return e.epoch;r.splice(2,0,"0"),r.splice(3,0,"")}let a=!1,o=parseInt(r[1],10),i=parseInt(r[2],10);i>=60&&(i=59),o>12&&(a=!0),!1===a&&("am"===r[4]&&12===o&&(o=0),"pm"===r[4]&&o<12&&(o+=12)),r[3]=r[3]||"",r[3]=r[3].replace(/:/,"");let s=parseInt(r[3],10)||0,l=e.clone();return e=(e=(e=(e=e.hour(o)).minute(i)).second(s)).millisecond(0),(e=Be(e,l,n,"day")).epoch}(n,e,t),n}return`${this.h12()}:${v(this.minute())}${this.ampm()}`},ampm:function(e,t){let n=Ge,r=this.hour();if(r>=12&&(n=Ue),"string"!=typeof e)return n;let a=this.clone();return e=e.toLowerCase().trim(),r>=12&&"am"===e?(r-=12,a.hour(r,t)):r<12&&"pm"===e?(r+=12,a.hour(r,t)):a},dayTime:function(e,t){if(void 0!==e){const n={morning:"7:00am",breakfast:"7:00am",noon:"12:00am",lunch:"12:00pm",afternoon:"2:00pm",evening:"6:00pm",dinner:"6:00pm",night:"11:00pm",midnight:"23:59pm"};let r=this.clone();return e=(e=e||"").toLowerCase(),!0===n.hasOwnProperty(e)&&(r=r.time(n[e],t)),r}let n=this.hour();return n<6?"night":n<12?"morning":n<17?"afternoon":n<22?"evening":"night"},iso:function(e){return void 0!==e?this.set(e):this.format("iso")}};var We={date:function(e,t){if(void 0!==e){let n=this.clone();return(e=parseInt(e,10))&&(n.epoch=function(e,t,n){if((t=Ae(t))>28){let n=e.month(),r=A[n];1===n&&29===t&&b(e.year())&&(r=29),t>r&&(t=r)}t<=0&&(t=1);let r=e.clone();return Y(e,{date:t}),(e=Be(e,r,n,"month")).epoch}(n,e,t)),n}return this.d.getDate()},day:function(e,t){if(void 0===e)return this.d.getDay();let n=this.clone(),r=e;"string"==typeof e&&(e=e.toLowerCase(),se.hasOwnProperty(e)?r=se[e]:(r=oe().indexOf(e),-1===r&&(r=ie().indexOf(e))));let a=this.d.getDay()-r;!0===t&&a>0&&(a-=7),!1===t&&a<0&&(a+=7);let o=this.subtract(a,"days");return Y(o,{hour:n.hour(),minute:n.minute(),second:n.second()}),o},dayName:function(e,t){if(void 0===e)return ie()[this.day()];let n=this.clone();return n=n.day(e,t),n}};const Je=e=>e=(e=(e=e.minute(0)).second(0)).millisecond(1);var Ke={dayOfYear:function(e,t){if(void 0!==e){let n=this.clone();return n.epoch=function(e,t,n){t=Ae(t);let r=e.clone();return(t-=1)<=0?t=0:t>=365&&(t=364),e=(e=e.startOf("year")).add(t,"day"),Le(e,r,"hour"),(e=Be(e,r,n,"year")).epoch}(n,e,t),n}let n,r=0,a=this.d.getMonth();for(let e=1;e<=a;e++)n=new Date,n.setDate(1),n.setFullYear(this.d.getFullYear()),n.setHours(1),n.setMinutes(1),n.setMonth(e),n.setHours(-2),r+=n.getDate();return r+this.d.getDate()},week:function(e,t){if(void 0!==e){let n=this.clone();return n.epoch=function(e,t,n){let r=e.clone();return t=Ae(t),"december"===(e=(e=(e=e.month(0)).date(1)).day("monday")).monthName()&&e.date()>=28&&(e=e.add(1,"week")),t-=1,e=e.add(t,"weeks"),(e=Be(e,r,n,"year")).epoch}(this,e,t),n=Je(n),n}let n=this.clone();n=n.month(0),n=n.date(1),n=Je(n),n=n.day("monday"),"december"===n.monthName()&&n.date()>=28&&(n=n.add(1,"week"));let r=1;1===n.date()&&(r=0),n=n.minus(1,"second");const a=this.epoch;if(n.epoch>a)return 1;let o=0,i=4*this.month();for(n.epoch+=T.week*i,o+=i;o<=52;o++){if(n.epoch>a)return o+r;n=n.add(1,"week")}return 52},month:function(e,t){if(void 0!==e){let n=this.clone();return n.epoch=function(e,t,n){"string"==typeof t&&(t=H()[t.toLowerCase()]),(t=Ae(t))>=12&&(t=11),t<=0&&(t=0);let r=e.date();r>A[t]&&(r=A[t]);let a=e.clone();return Y(e,{month:t,d:r}),(e=Be(e,a,n,"year")).epoch}(n,e,t),n}return this.d.getMonth()},monthName:function(e,t){if(void 0!==e){let n=this.clone();return n=n.month(e,t),n}return L[this.month()]},quarter:function(e,t){if(void 0!==e&&("string"==typeof e&&(e=e.replace(/^q/i,""),e=parseInt(e,10)),Ie[e])){let n=this.clone(),r=Ie[e][0];return n=n.month(r,t),n=n.date(1,t),n=n.startOf("day"),n}let n=this.d.getMonth();for(let e=1;e<Ie.length;e++)if(n<Ie[e][0])return e-1;return 4},season:function(e,t){let n="north";if("South"===this.hemisphere()&&(n="south"),void 0!==e){let r=this.clone();for(let a=0;a<qe[n].length;a++)e===qe[n][a][0]&&(r=r.month(qe[n][a][1],t),r=r.date(1),r=r.startOf("day"));return r}let r=this.d.getMonth();for(let e=0;e<qe[n].length-1;e++)if(r>=qe[n][e][1]&&r<qe[n][e+1][1])return qe[n][e][0];return"winter"},year:function(e){if(void 0!==e){let t=this.clone();return t.epoch=Qe(t,e),t}return this.d.getFullYear()},era:function(e){if(void 0!==e){let t=this.clone();e=e.toLowerCase();let n=t.d.getFullYear();return"bc"===e&&n>0&&(t.epoch=Qe(t,-1*n)),"ad"===e&&n<0&&(t.epoch=Qe(t,-1*n)),t}return this.d.getFullYear()<0?"BC":"AD"},decade:function(e){if(void 0!==e){if(!(e=(e=(e=String(e)).replace(/([0-9])'?s$/,"$1")).replace(/([0-9])(th|rd|st|nd)/,"$1")))return console.warn("Spacetime: Invalid decade input"),this;2===e.length&&/[0-9][0-9]/.test(e)&&(e="19"+e);let t=Number(e);return isNaN(t)?this:(t=10*Math.floor(t/10),this.year(t))}return this.startOf("decade").year()},century:function(e){if(void 0!==e){"string"==typeof e&&(e=(e=(e=e.replace(/([0-9])(th|rd|st|nd)/,"$1")).replace(/([0-9]+) ?(b\.?c\.?|a\.?d\.?)/i,((e,t,n)=>(n.match(/b\.?c\.?/i)&&(t="-"+t),t)))).replace(/c$/,""));let t=Number(e);return isNaN(e)?(console.warn("Spacetime: Invalid century input"),this):(0===t&&(t=1),t=t>=0?100*(t-1):100*(t+1),this.year(t))}let t=this.startOf("century").year();return t=Math.floor(t/100),t<0?t-1:t+1},millenium:function(e){if(void 0!==e){if("string"==typeof e&&(e=e.replace(/([0-9])(th|rd|st|nd)/,"$1"),e=Number(e),isNaN(e)))return console.warn("Spacetime: Invalid millenium input"),this;e>0&&(e-=1);let t=1e3*e;return 0===t&&(t=1),this.year(t)}let t=Math.floor(this.year()/1e3);return t>=0&&(t+=1),t}};const Re=Object.assign({},Ve,We,Ke);Re.milliseconds=Re.millisecond,Re.seconds=Re.second,Re.minutes=Re.minute,Re.hours=Re.hour,Re.hour24=Re.hour,Re.h12=Re.hour12,Re.h24=Re.hour24,Re.days=Re.day;var Xe=e=>{Object.keys(Re).forEach((t=>{e.prototype[t]=Re[t]}))};const et=function(e,t){return 1===e&&b(t)?29:A[e]},tt=(e,t)=>{if(e.month>0){let n=parseInt(e.month/12,10);e.year=t.year()+n,e.month=e.month%12}else if(e.month<0){let n=Math.abs(e.month),r=parseInt(n/12,10);n%12!=0&&(r+=1),e.year=t.year()-r,e.month=e.month%12,e.month=e.month+12,12===e.month&&(e.month=0)}return e},nt=(e,t,n)=>{let r=t.year(),a=t.month(),o=et(a,r);for(;n>o;)n-=o,a+=1,a>=12&&(a-=12,r+=1),o=et(a,r);return e.month=a,e.date=n,e},rt=(e,t,n)=>{e.year=t.year(),e.month=t.month();let r=t.date();for(e.date=r-Math.abs(n);e.date<1;){e.month-=1,e.month<0&&(e.month=11,e.year-=1);let t=et(e.month,e.year);e.date+=t}return e},at=["millisecond","second","minute","hour","date","month"];let ot={second:at.slice(0,1),minute:at.slice(0,2),quarterhour:at.slice(0,2),hour:at.slice(0,3),date:at.slice(0,4),month:at.slice(0,4),quarter:at.slice(0,4),season:at.slice(0,4),year:at,decade:at,century:at};ot.week=ot.hour,ot.season=ot.date,ot.quarter=ot.date;const it={year:!0,quarter:!0,season:!0,month:!0,week:!0,date:!0},st={month:!0,quarter:!0,season:!0,year:!0};var lt=e=>{e.prototype.add=function(e,t){let n=this.clone();if(!t||0===e)return n;let r=this.clone();if("millisecond"===(t=z(t)))return n.epoch+=e,n;"fortnight"===t&&(e*=2,t="week"),T[t]?n.epoch+=T[t]*e:"week"===t||"weekend"===t?n.epoch+=T.day*(7*e):"quarter"===t||"season"===t?n.epoch+=T.month*(3*e):"quarterhour"===t&&(n.epoch+=15*T.minute*e);let a={};if(ot[t]&&ot[t].forEach((e=>{a[e]=r[e]()})),it[t]){const e=r.timezone().current.offset-n.timezone().current.offset;n.epoch+=3600*e*1e3}if("month"===t&&(a.month=r.month()+e,a=tt(a,r)),"week"===t){let t=r.date()+7*e;t<=28&&t>1&&(a.date=t)}if("weekend"===t&&"saturday"!==n.dayName())n=n.day("saturday",!0);else if("date"===t){if(e<0)a=rt(a,r,e);else{let t=r.date()+e;a=nt(a,r,t)}0!==e&&r.isSame(n,"day")&&(a.date=r.date()+e)}else if("quarter"===t){if(a.month=r.month()+3*e,a.year=r.year(),a.month<0){let e=Math.floor(a.month/12),t=a.month+12*Math.abs(e);a.month=t,a.year+=e}else if(a.month>=12){let e=Math.floor(a.month/12);a.month=a.month%12,a.year+=e}a.date=r.date()}else if("year"===t){let t=r.year()+e,a=n.year();if(a<t){let t=Math.floor(e/4)||1;n.epoch+=Math.abs(T.day*t)}else if(a>t){let t=Math.floor(e/4)||1;n.epoch+=T.day*t}}else"decade"===t?a.year=n.year()+10:"century"===t&&(a.year=n.year()+100);if(st[t]){let e=A[a.month];a.date=r.date(),a.date>e&&(a.date=e)}return Object.keys(a).length>1&&Y(n,a),n},e.prototype.subtract=function(e,t){return this.clone().add(-1*e,t)},e.prototype.minus=e.prototype.subtract,e.prototype.plus=e.prototype.add};const ut={millisecond:e=>e.epoch,second:e=>[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second()].join("-"),minute:e=>[e.year(),e.month(),e.date(),e.hour(),e.minute()].join("-"),hour:e=>[e.year(),e.month(),e.date(),e.hour()].join("-"),day:e=>[e.year(),e.month(),e.date()].join("-"),week:e=>[e.year(),e.week()].join("-"),month:e=>[e.year(),e.month()].join("-"),quarter:e=>[e.year(),e.quarter()].join("-"),year:e=>e.year()};ut.date=ut.day;var ct=e=>{e.prototype.isSame=function(t,n,r=!0){let a=this;if(!n)return null;if("string"==typeof t&&"object"==typeof n){let e=t;t=n,n=e}return"string"!=typeof t&&"number"!=typeof t||(t=new e(t,this.timezone.name)),n=n.replace(/s$/,""),!0===r&&a.tz!==t.tz&&((t=t.clone()).tz=a.tz),ut[n]?ut[n](a)===ut[n](t):null}};var ht=e=>{const t={isAfter:function(e){let t=$(e=O(e,this));return null===t?null:this.epoch>t},isBefore:function(e){let t=$(e=O(e,this));return null===t?null:this.epoch<t},isEqual:function(e){let t=$(e=O(e,this));return null===t?null:this.epoch===t},isBetween:function(e,t,n=!1){e=O(e,this),t=O(t,this);let r=$(e);if(null===r)return null;let a=$(t);return null===a?null:n?this.isBetween(e,t)||this.isEqual(e)||this.isEqual(t):r<this.epoch&&this.epoch<a}};Object.keys(t).forEach((n=>{e.prototype[n]=t[n]}))};var dt=e=>{const t={i18n:e=>{var t,n,r;k(e.days)&&(t=e.days,re=t.short||re,ae=t.long||ae),k(e.months)&&function(e){F=e.short||F,L=e.long||L}(e.months),r=e.useTitleCase,"[object Boolean]"===Object.prototype.toString.call(r)&&(n=e.useTitleCase,le=n),k(e.ampm)&&function(e){Ge=e.am||Ge,Ue=e.pm||Ue}(e.ampm)}};Object.keys(t).forEach((n=>{e.prototype[n]=t[n]}))};let mt=l;const pt=function(e,t,n={}){this.epoch=null,this.tz=g(t,mt),this.silent=void 0===n.silent||n.silent,this.british=n.dmy||n.british,this._weekStart=1,void 0!==n.weekStart&&(this._weekStart=n.weekStart),this._today={},void 0!==n.today&&(this._today=n.today),Object.defineProperty(this,"d",{get:function(){let e=a(this),t=(new Date(this.epoch).getTimezoneOffset()||0)+60*e;t=60*t*1e3;let n=this.epoch+t;return new Date(n)}}),Object.defineProperty(this,"timezones",{get:()=>mt,set:e=>(mt=e,e)});let r=ne(this,e);this.epoch=r.epoch};Object.keys(Ye).forEach((e=>{pt.prototype[e]=Ye[e]})),pt.prototype.clone=function(){return new pt(this.epoch,this.tz,{silent:this.silent,weekStart:this._weekStart,today:this._today,parsers:this.parsers})},pt.prototype.toLocalDate=function(){return this.toNativeDate()},pt.prototype.toNativeDate=function(){return new Date(this.epoch)},Xe(pt),lt(pt),ct(pt),ht(pt),dt(pt);var ft=pt;var yt=(e,t)=>{let n=new ft(null),r=new ft(null);n=n.time(e),r=t?r.time(t):n.add(59,"minutes");let a=n.hour(),o=r.hour();return Object.keys(n.timezones).filter((e=>{if(-1===e.indexOf("/"))return!1;let t=new ft(null,e),i=t.hour();return i>=a&&i<=o&&(!(i===a&&t.minute()<n.minute())&&!(i===o&&t.minute()>r.minute()))}))};const gt=(e,t,n)=>new ft(e,t,n),bt=function(e){let t=e._today||{};return Object.keys(t).forEach((n=>{e=e[n](t[n])})),e};gt.now=(e,t)=>{let n=new ft((new Date).getTime(),e,t);return n=bt(n),n},gt.today=(e,t)=>{let n=new ft((new Date).getTime(),e,t);return n=bt(n),n.startOf("day")},gt.tomorrow=(e,t)=>{let n=new ft((new Date).getTime(),e,t);return n=bt(n),n.add(1,"day").startOf("day")},gt.yesterday=(e,t)=>{let n=new ft((new Date).getTime(),e,t);return n=bt(n),n.subtract(1,"day").startOf("day")},gt.extend=function(e={}){return Object.keys(e).forEach((t=>{ft.prototype[t]=e[t]})),this},gt.timezones=function(){return(new ft).timezones},gt.max=function(e,t){let n=new ft(null,e,t);return n.epoch=864e13,n},gt.min=function(e,t){let n=new ft(null,e,t);return n.epoch=-864e13,n},gt.whereIts=yt,gt.version="7.1.2",gt.plugin=gt.extend;var wt=gt;const kt=function(e){let t=e.sentence();if(!t)return null;let n=t.text()||"",r=n.match(/\(.*\)/);if(!r||!r[0])return null;n=r[0]||"",n=n.trim(),n=n.replace(/^\(/,""),n=n.replace(/\)$/,"");let a=n.split(/  /);if(a=a.filter((e=>e)),a[0]&&a[1]&&2===a.length)return{birth:a[0],death:a[1]};if(a[0]){let e=a[0].replace(/^(born|ne) (c\.)?/,"");if(wt(e).isValid())return{birth:e}}return null},vt=/^(?:c\.\s*)?(\d+)\s*(bc|bce|ad|ce)?$/i,_t=/((\d+)\s*(or||\/)\s*(\d+))\s*(?:bc|bce|ad|ce)?\b/gi,jt=//,zt=/\b(\d{1,3})\s*(bc|bce|ad|ce)?$|\b(\d+)\s*(bc|bce)$/i,$t=/(\d+)\s*(bc|bce)\b/i,Ot=function(e){return e.reduce(((e,t)=>e+t))/e.length},Dt=function(e){if(!e)return null;let t;if((e=(e=e.replace(/\(.*\)/,"")).trim()).match(_t)){t=e;const n=[...e.matchAll(_t)];for(const t of n){let n=[...t];if([3,1,0].forEach((e=>n.splice(e,1))),n=n.map((e=>Number(e))),t[3].match(jt)){const r=Ot(n);e=t[0].match($t)?e.replace(t[1],Math.ceil(r)):e.replace(t[1],Math.floor(r))}else e=t[0].match($t)?e.replace(t[1],Math.max(...n)):e.replace(t[1],Math.min(...n))}}const n=e.match(vt);let r=wt(e),a={year:r.year(),month:r.month(),date:r.date()};if(n)return t&&Object.defineProperty(a,"originalDate",{value:t}),e.match($t)?a.year=-parseInt(n[1],10):a.year=parseInt(n[1],10),a;const o=e.match(zt);let i;o&&(e=e.replace(o[0],"1000"),i=o.input.match($t)?-Number(o[1]):Number(o[1]));return JSON.stringify(a)===JSON.stringify({year:1970,month:0,date:1})?null:(a.year=i||r.year(),t&&Object.defineProperty(a,"originalDate",{value:t}),a)},Mt=function(e){let n=t(e,"birth_date");if(n)return Dt(n);if(n=kt(e),n&&n.birth)return Dt(n.birth);let r=function(e){let t=e.categories();for(let e=0;e<t.length;e+=1){let n=t[e].match(/([0-9]{4}) births/);if(n&&n[1]){let e=parseInt(n[1],10);if(e&&e>1e3)return e}}return null}(e);return r?{year:r}:null},Nt={"Living people":!0,"Year of birth missing (living people)":!0,"Date of birth missing (living people)":!0,"Place of birth missing (living people)":!0,"Active politicians":!0,"Biography articles of living people":!0},St={"Dead people":!0,"Date of death missing":!0,"Date of death unknown":!0,"Place of death missing":!0,"Place of death unknown":!0,"Year of death missing":!0,"Year of death unknown":!0,"Year of death uncertain":!0,"Recent deaths":!0,"People declared dead in absentia":!0,"Politicians elected posthumously":!0,"People who died in office":!0,"Assassinated heads of state ":!0,"Assassinated heads of government":!0,"Assassinated mayors":!0,"People who died in Nazi concentration camps":!0,"People executed in Nazi concentration camps":!0,"Politicians who died in Nazi concentration camps":!0,"People who have received posthumous pardons":!0,"People lost at sea":!0,"Deaths due to shipwreck":!0,"People who died at sea":!0,"Unsolved deaths":!0,"Deaths by horse-riding accident":!0,"Deaths from falls":!0,"Deaths by poisoning":!0,"Deaths from cerebrovascular disease":!0,"Deaths from asphyxiation":!0,"Deaths from sepsis":!0,"Deaths from pneumonia":!0,"Deaths from dysentery":!0,"Deaths by drowning":!0},qt={blp:!0,"blp unsourced":!0,"blp unsourced section":!0,"blp primary sources":!0,"blp self-published":!0,"blp sources":!0,"blp sources section":!0,"blp imdb-only refimprove":!0,"blp imdb refimprove":!0,"blp no footnotes":!0,"blp more footnotes":!0,"blp one source":!0,"active politician":!0,activepol:!0,"current person":!0},It={"recent death":!0,"recent death presumed":!0,"recent death confirmed":!0,obituary:!0,elegy:!0,eulogy:!0,panegyric:!0,memorial:!0};const Pt=(new Date).getFullYear()-105,Et=function(e){if(e.deathDate())return!1;if(e.deathPlace())return!1;let t=function(e){let t=e.categories();return!!t.find((e=>Nt.hasOwnProperty(e)))||!t.find((e=>St.hasOwnProperty(e)))&&null}(e);if(!0===t||!1===t)return t;let n=function(e){let t=e.templates().map((e=>e.json()));for(let e=0;e<t.length;e++){let n=t[e].template||"";if(n=n.toLowerCase().trim(),qt.hasOwnProperty(n))return!0;if(It.hasOwnProperty(n))return!1}let n=e.template("WikiProject Biography");if(n){if(n=n.json(),"yes"===n.living||"yes"===n.blp||"yes"===n.activepol||"yes"===n.BLP)return!0;if("no"===n.living||"no"===n.blp||"no"===n.BLP)return!1}return null}(e);if(!0===n||!1===n)return n;let r=e.birthDate();return!!(r&&r.year&&r.year<Pt)||null},Tt=function(e){let n=t(e,"death_date");if(n)return Dt(n);if(n=kt(e),n&&n.death)return Dt(n.death);let r=function(e){let t=e.categories();for(let e=0;e<t.length;e+=1){let n=t[e].match(/([0-9]{4}) deaths/);if(n&&n[1]){let e=parseInt(n[1],10);if(e&&e>1e3)return e}}return null}(e);return r?{year:r}:null};return function(e){e.Doc.prototype.birthDate=function(){return Mt(this)},e.Doc.prototype.birthPlace=function(){return t(this,"birth_place")||null},e.Doc.prototype.isAlive=function(){return Et(this)},e.Doc.prototype.deathDate=function(){return Tt(this)},e.Doc.prototype.deathPlace=function(){return t(this,"death_place")||null},e.Doc.prototype.nationality=function(){return t(this,"nationality")||null}}}));
